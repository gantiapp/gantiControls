{"admdatasource":{"name":"__GANTI_PG","source":"database"},"admTag":null,"apiPagination":null,"qymparams":[{"name":"datasource","label":"datasource","defaultvalue":null,"position":2,"mandatory":false,"type":"TextType"},{"name":"object","label":"objet métier","defaultvalue":null,"position":3,"mandatory":false,"type":"TextType"},{"name":"req","label":"table dans la requête","defaultvalue":null,"position":4,"mandatory":false,"type":"TextType"}],"qymschedules":[],"admcomment":null,"type":"TABLE","query":"select 'query' as type,\r\n'<a href=\"http:\/localhost:8000\/querymanager\/admin\/query\/edit\/' || q.id ||'\/\" target=\"_blank\">' || q.name || '<\/a>' as nom, query\r\nfrom QYMQUERY q\r\nleft join admdatasource dts on q.admdatasource_id = dts.id\r\nleft join admtag dtg on q.admtag_id = dtg.id\r\nwhere\r\n(dts.name = ':datasource:' or dtg.name = ':datasource:')\r\nAND\r\n(\r\n    (':req:' = '' OR upper(q.query) LIKE ('%' || upper(':req:') || '%'))\r\n    AND\r\n    (':object:' = '' OR upper(q.name) LIKE ('%' || upper(':object:') || '%'))\r\n)\r\n\r\nunion all\r\n\r\nselect 'bridge' as type,\r\n'<a href=\"http:\/localhost:8000\/bridgequerymanager\/admin\/query\/' || b.id ||'\/subquery\/edit\/' || s.id || '\" target=\"_blank\">' || b.name || ' > ' || s.name || '<\/a>' as nom, s.query\r\nfrom bymsubquery s\r\ninner join bymquery b on s.bymquery_id=b.id\r\nleft join admdatasource dts on s.admdatasource_id = dts.id\r\nleft join admtag dtg on s.admtag_id = dtg.id\r\nwhere\r\n(':datasource:' = '' or dts.name = ':datasource:' or dtg.name = ':datasource:')\r\nAND\r\n(\r\n    (':req:' = '' OR upper(s.query) LIKE ('%' || upper(':req:') || '%'))\r\n    AND\r\n    (':object:' = '' OR upper(s.name) LIKE ('%' || upper(':object:') || '%') OR upper(b.name) LIKE ('%' || upper(':object:') || '%'))\r\n)\r\n\r\nunion all\r\n\r\nselect 'domaine' as type, '<a href=\"http:\/localhost:8000\/datamanager\/admin\/domain\/' || d.id ||'\/table\" target=\"_blank\">' || d.name || ' > ' || ddt.businessname || '<\/a>' as nom, get_damdataset_sql(ddt.id)\r\nfrom damdataset ddt\r\ninner join damdomain d on ddt.damdomain_id=d.id\r\nleft join admdatasource dts on ddt.admdatasource_id = dts.id\r\nleft join admtag dtg on ddt.admtag_id = dtg.id\r\nwhere\r\n(':datasource:' = '' or dts.name = ':datasource:' or dtg.name = ':datasource:')\r\nAND\r\n(\r\n    (':datasource:' = '' or ':req:' = '' OR upper(plain_sql) LIKE ('%' || upper(':req:') || '%'))\r\n    AND\r\n    (':object:' = '' OR upper(ddt.businessname) LIKE ('%' || upper(':object:') || '%'))\r\n)","route":null,"method":null,"threshold":0,"qymFields":[{"qymAlerts":[],"name":"nom"},{"qymAlerts":[],"name":"query"},{"qymAlerts":[],"name":"type"}],"qymApiParams":[],"admMenuControl":{"admMenu":{"name":"Ganti","parentAdmMenu":null}},"spreadsheetUrl":null,"sheetName":null,"sheetRange":null,"mongodbCollection":null,"mongodbFilter":null,"mongodbProjection":null,"mongodbOptions":null,"mongodbAggregation":null,"name":"GTI - search in controls","description":null,"roles":[],"exportVersion":"25.07.2","controlType":"query_manager"}